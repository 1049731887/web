<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>嘿嘿嘿 ٩(๑′0`๑)۶</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body style="background-color: rgba(8, 16, 29, 0.918);">
    <div class="loader">
        <div class="loader-inner" style="transform: scale(2);">
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
            <div class="loader-line-wrap">
                <div class="loader-line"></div>
            </div>
        </div>
    </div>
    <h1 id="title" style="color: rgb(91, 100, 105); text-align: center; font-size: 400%;">点击图片以放大</h1>
    <div class="image-gallery">
        <script>
            var imageGallery = document.querySelector('.image-gallery');
            var numImages = 3;
            for (var i = 1; i <= numImages; i++) {
                var src = "../img/p" + i + ".jpg";
                var img = document.createElement('img');
                img.src = src;
                img.style.display = 'block';
                imageGallery.appendChild(img);
                var br = document.createElement('br');
                imageGallery.appendChild(br);
            }
            var numImages2 = 0;
            for (var i = 0; i <= numImages2; i++) {
                var src = "../img/白露/p" + i + ".jpg";
                var img = document.createElement('img');
                img.src = src;
                img.style.display = 'block';
                imageGallery.appendChild(img);
                var br = document.createElement('br');
                imageGallery.appendChild(br);
            }
            var lineImage = document.querySelector('img[alt="line"]');
            lineImage.classList.add('active');
        </script>
    </div>
    <div class="dark-background" style="display: none;"></div>
    <script>
        document.body.style.overflow = 'hidden';
        function loaderout() {
            var images = document.querySelectorAll('.image-gallery img');
            images.forEach(function(img) {
                img.classList.add('active');
            });
            setTimeout(function() {
                images.forEach(function(img) {
                    img.classList.remove('active');
                });
            }, 1000);
            setTimeout(function() {
                var loader = document.querySelector('.loader');
                loader.style.transition = 'opacity 1s ease-out';
                loader.style.opacity = '0';
                loader.addEventListener('transitionend', function() {
                    loader.style.display = 'none';
                });
                document.body.style.overflow = 'auto';
            }, 5000);
        }
        var loaderExecuted = false;
        window.onload = function() {
            if (!loaderExecuted) {
                loaderout();
                loaderExecuted = true;
            }
        };
        setTimeout(function() {
            if (!loaderExecuted) {
                loaderout();
                loaderExecuted = true;
            }
        }, 3000);
        var images = document.querySelectorAll('.image-gallery img');
        var loadedImagesCount = 0;
        images.forEach(function(img) {
            img.onload = function() {
                loadedImagesCount++;
                if (loadedImagesCount === images.length) {
                    document.body.style.opacity = "1";
                }
            };
        });
        var images = document.querySelectorAll('.image-gallery img');
        var title = document.getElementById('title');
        var scrollPosition = 0;
        images.forEach(function(img) {
            img.addEventListener('click', function() {
                scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
                title.style.opacity = '0';
                title.style.transition = 'opacity 1s';
                document.querySelector('.dark-background').style.display = 'block';
                img.classList.add('active');
            });
        });
        document.querySelector('.dark-background').addEventListener('click', function() {
            this.style.display = 'none';
            images.forEach(function(img) {
                img.classList.remove('active');
            });
            title.style.opacity = '1';
            title.style.transition = 'opacity 0.2s';
        });
    </script>
</body>
</html>

